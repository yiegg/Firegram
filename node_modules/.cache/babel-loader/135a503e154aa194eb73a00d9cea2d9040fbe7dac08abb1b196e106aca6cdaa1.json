{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\nexport default function useFirestore(collection) {\n  _s();\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const collectionRef = collection(projectFirestore, collection);\n    const unsub = collectionRef.orderBy('createdAt', 'desc').onSnapshot(snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n}\n_s(useFirestore, \"+T0lE56vJ9KU8atjOm2u+g1P1HQ=\");","map":{"version":3,"names":["useState","useEffect","projectFirestore","useFirestore","collection","_s","docs","setDocs","collectionRef","unsub","orderBy","onSnapshot","snap","documents","forEach","doc","push","data","id"],"sources":["/Users/robert/Downloads/firegram/src/hooks/useFirestore.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport default function useFirestore(collection) {\n    const[docs, setDocs] = useState([]);\n\n    useEffect(() => {\n        const collectionRef = collection(projectFirestore, collection);\n        const unsub = collectionRef.orderBy('createdAt', 'desc').onSnapshot(\n            (snap) => {\n                let documents = [];\n                snap.forEach(doc => {\n                    documents.push({...doc.data(), id: doc.id});\n                });\n                setDocs(documents);\n            }\n        );\n        return () => unsub();\n\n    }, [collection])\n\n    return {docs};\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD,eAAe,SAASC,YAAYA,CAACC,UAAU,EAAE;EAAAC,EAAA;EAC7C,MAAK,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEnCC,SAAS,CAAC,MAAM;IACZ,MAAMO,aAAa,GAAGJ,UAAU,CAACF,gBAAgB,EAAEE,UAAU,CAAC;IAC9D,MAAMK,KAAK,GAAGD,aAAa,CAACE,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAACC,UAAU,CAC9DC,IAAI,IAAK;MACN,IAAIC,SAAS,GAAG,EAAE;MAClBD,IAAI,CAACE,OAAO,CAACC,GAAG,IAAI;QAChBF,SAAS,CAACG,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC;UAAEC,EAAE,EAAEH,GAAG,CAACG;QAAE,CAAC,CAAC;MAC/C,CAAC,CAAC;MACFX,OAAO,CAACM,SAAS,CAAC;IACtB,CACJ,CAAC;IACD,OAAO,MAAMJ,KAAK,CAAC,CAAC;EAExB,CAAC,EAAE,CAACL,UAAU,CAAC,CAAC;EAEhB,OAAO;IAACE;EAAI,CAAC;AACjB;AAACD,EAAA,CAnBuBF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}