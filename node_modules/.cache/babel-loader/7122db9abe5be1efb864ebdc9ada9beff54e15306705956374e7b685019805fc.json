{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\nimport { collection, orderBy, query, onSnapshot } from \"firebase/firestore\";\nexport default function useFirestore(folder) {\n  _s();\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const collectionRef = collection(projectFirestore, folder);\n    const unsub = onSnapshot(query(collectionRef, orderBy('createdAt', 'desc')), snap => {\n      let documents = [];\n      snap.forEach(doc => {\n        documents.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n}\n_s(useFirestore, \"+T0lE56vJ9KU8atjOm2u+g1P1HQ=\");","map":{"version":3,"names":["useState","useEffect","projectFirestore","collection","orderBy","query","onSnapshot","useFirestore","folder","_s","docs","setDocs","collectionRef","unsub","snap","documents","forEach","doc","push","data","id"],"sources":["C:/Users/Admin/Documents/GitHub/Firegram/src/hooks/useFirestore.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { projectFirestore } from \"../firebase/config\";\r\nimport { collection, orderBy, query, onSnapshot } from \"firebase/firestore\";\r\n\r\nexport default function useFirestore(folder) {\r\n    const[docs, setDocs] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const collectionRef = collection(projectFirestore, folder);\r\n        const unsub = onSnapshot(query(collectionRef, orderBy('createdAt', 'desc')),\r\n            (snap) => {\r\n                let documents = [];\r\n                snap.forEach(doc => {\r\n                    documents.push({...doc.data(), id: doc.id});\r\n                });\r\n                setDocs(documents);\r\n            }\r\n        );\r\n        return () => unsub();\r\n\r\n    }, [collection])\r\n\r\n    return {docs};\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,UAAU,QAAQ,oBAAoB;AAE3E,eAAe,SAASC,YAAYA,CAACC,MAAM,EAAE;EAAAC,EAAA;EACzC,MAAK,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEnCC,SAAS,CAAC,MAAM;IACZ,MAAMW,aAAa,GAAGT,UAAU,CAACD,gBAAgB,EAAEM,MAAM,CAAC;IAC1D,MAAMK,KAAK,GAAGP,UAAU,CAACD,KAAK,CAACO,aAAa,EAAER,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC,EACtEU,IAAI,IAAK;MACN,IAAIC,SAAS,GAAG,EAAE;MAClBD,IAAI,CAACE,OAAO,CAACC,GAAG,IAAI;QAChBF,SAAS,CAACG,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC;UAAEC,EAAE,EAAEH,GAAG,CAACG;QAAE,CAAC,CAAC;MAC/C,CAAC,CAAC;MACFT,OAAO,CAACI,SAAS,CAAC;IACtB,CACJ,CAAC;IACD,OAAO,MAAMF,KAAK,CAAC,CAAC;EAExB,CAAC,EAAE,CAACV,UAAU,CAAC,CAAC;EAEhB,OAAO;IAACO;EAAI,CAAC;AACjB;AAACD,EAAA,CAnBuBF,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}